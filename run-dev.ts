// run-dev.ts
import "dotenv/config";
import "tsconfig-paths/register";

console.log("üü¢ Starte M.E.A.T. (Bot + Webserver)...");

// Helper f√ºr file://
import { fileURLToPath } from "url";
import path from "path";
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

async function start() {
  try {
    // 1. Bot starten
    const botPath = path.resolve(__dirname, "./bot/index.ts");
    await import(`file://${botPath}`);
    console.log("‚úÖ Bot-Modul geladen.");

    // 2. Webserver starten
    const serverPath = path.resolve(__dirname, "./server.ts");
    await import(`file://${serverPath}`);
    console.log("‚úÖ Webserver-Modul geladen.");
  } catch (err) {
    console.error("‚ùå Fehler beim Start:", err);
    process.exit(1);
  }
}

start();
